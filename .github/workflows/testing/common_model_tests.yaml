name: Common Model Tests

env:
  paths:
    src/models/**/common/*
    src/models/contexts/common/*
    src/models/dataset/common/*
    src/steps/**/common/*

on:
  push:
    branches: [ "master" ]
    paths: ${{ env.paths }}
  pull_request:
    branches: [ "master" ]
    paths: ${{ env.paths }}
  workflow_dispatch:

permissions:
  contents: read
  pull-requests: write

jobs:
  common-model-tests:
    uses: ./.github/workflows/testing/testing_workflow_template.yaml
    with:
      use_lfs: true
      test_paths: "tests/models/**/common/* tests/models/dataset/common/* tests/models/steps/**/common/* tests/steps/**/common/*"
